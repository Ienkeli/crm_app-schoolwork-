#CRM System — PyQt5 + PostgreSQL

Десктопное CRM-приложение, написанное на Python + PyQt5, предназначенное для работы с клиентами и заказами.
Поддерживает авторизацию, поиск клиентов, привязку заказов к клиентам, просмотр собственных заказов и добавление новых записей.

#Возможности
#Работа с клиентами
добавление новых клиентов (ФИО, телефон, email, дата, примечание);
хранение телефонов в нормализованном виде;
поиск по:

ФИО
телефону
email
частичному совпадению
отображение всех клиентов в таблице;
просмотр заказов клиента по двойному нажатию.

#Работа с заказами

добавление нового заказа (клиент, описание, вес, дата);
просмотр всех заказов;
просмотр только своих заказов;
автоматическое обновление таблицы после изменений.

#Авторизация пользователей

Авторизация происходит через таблицу клиентов:
логин — ID клиента
пароль — телефон (внутренний формат)

После успешного входа показывается основное окно CRM.

#Интерфейс

современный тёмный дизайн;
вкладки: Клиенты / Заказы;
удобные таблицы;
кнопки действий расположены сверху;
диалоговые окна для добавления данных.

#Структура проекта
project/
│
├── db/
│   ├── __init__.py
│   ├── db.py                # функция connection()
│
├── gui/
│   ├── __init__.py
│   ├── login_window.py      # окно авторизации
│   ├── database_window.py   # главное окно CRM (клиенты/заказы)
│   ├── add_client_dialog.py # диалог добавления клиента
│   ├── add_order_dialog.py  # диалог добавления заказа
│
├── utils/
│   ├── __init__.py
│   ├── normalize.py         # функции normalize_phone / format_phone_for_db
│
├── main.py                  # точка входа
├── README.md
└── requirements.txt

#Установка и запуск
1. Установить зависимости
pip install -r requirements.txt

2. Настроить базу данных PostgreSQL
Создать базу и записать параметры в db/db.py:

DB_NAME = "your_db"
DB_USER = "user"
DB_PASSWORD = "password"
DB_HOST = "localhost"
DB_PORT = "5432"

3. Выполнить миграции (инициализация таблиц)

Выполняется автоматически при первом запуске, если таблиц нет:
python main.py

#Структура таблиц
#Таблица clients
колонка	тип	описание
  id	SERIAL PK	ID клиента
  full_name	varchar	ФИО
  phone	varchar	телефон (нормализованный)
  mail	varchar	email
  request_date	date	дата обращения
  note	text	примечание
#Таблица zakazi
колонка	тип	описание
  id	SERIAL PK	ID заказа
  client_id	int FK	ID клиента
  description	text	описание заказа
  weight	float	вес
  created_at	date	дата создания
#Запуск приложения
  python main.py
